{"version":3,"sources":["configItem.component.ts"],"names":[],"mappings":"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","file":"configItem.component.js","sourcesContent":["import {bootstrap} from '@angular/platform-browser-dynamic';\nimport {Component, OnInit} from '@angular/core';\nimport {CartComponent} from './cart.component';\nimport {RequestService} from './http.service';\nimport {OrderService} from './order.service';\nimport {HTTP_PROVIDERS} from '@angular/http';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS, RouteParams} from '@angular/router-deprecated';\n\n\n\n@Component({\n    selector: 'item',\n    templateUrl: './components/itemConfig.component.html',\n    directives: [ROUTER_DIRECTIVES, CartComponent],\n    providers: [RequestService, HTTP_PROVIDERS],\n    inputs: [ 'item', 'addOns', 'itemPrice']\n})\n\n\n\nexport class ConfigItemComponent implements OnInit{\n  //to store uri param for item id\n  id: any;\n  //store item data per uri param\n  item: Item;\n  itemPrice: number;\n  //store all addOns from api source\n  addOns: any;\n\n  qty: number;\n  qtyMessage: string;\n\n  //store relevant config item data for display in angular cart\n  cartAdditionals = [];\n  cartPrices = [];\n  total: number;\n  cartItem: ConfigCART;\n\n  //store relevant config item data for api\n  apiAdditionals = [];\n  apiItem: ConfigAPI;\n\n\n\n  constructor(private _httpService: RequestService, private _routeParams: RouteParams, public orderService : OrderService){\n  }\n\n  ngOnInit() {\n    //get item id\n    this.id = this._routeParams.get(\"item\");\n\n    //send item id to api to retieve selected menu item, store in item\n    this._httpService.getMenuItem(this.id)\n    .subscribe(data => this.item = data)\n\n    this._httpService.getAddOns()\n    .subscribe(data => this.addOns = data)\n    console.log(this.addOns);\n    this.qty = 1;\n  }\n\n  add( idValue, nameValue, prices, event ) {\n    //if checked store addOn ids in array to send to api\n    if(event.target.checked){\n      this.apiAdditionals.push(idValue);\n\n    }\n    //if UNchecked remove addOn ids from array to send to api\n    else if(!event.target.checked){\n      let index = this.apiAdditionals.indexOf(idValue);\n      this.apiAdditionals.splice(index,1);\n\n    }\n    //log for testing\n    console.log(this.apiAdditionals);\n\n    //store addOn names to array to use for readable cart values\n    if(event.target.checked){\n      this.cartAdditionals.push(nameValue);\n      this.cartPrices.push(prices);\n\n    }\n\n    else if(!event.target.checked){\n      let index = this.cartAdditionals.indexOf(nameValue);\n      this.cartAdditionals.splice(index,1);\n      this.cartPrices.splice(index,1);\n    }\n    console.log(this.cartAdditionals);\n    console.log(this.cartPrices);\n  }\n\n\n  create(id, price) {\n    this.cartPrices.push(price);\n    this.total = this.cartPrices.reduce(function(total,num){return total+num});\n    // !!!!!!!!!!!!!!!!!!!FOR API!!!!!!!!!!!!!!!!!!!!!!!//\n    //set interface with selected menuitem and addons\n    this.apiItem = {\n      item_id : this.item.id,\n      additionals : this.apiAdditionals\n    };\n\n    //push interface object into API array\n    this.orderService.addToOrder(this.apiItem);\n\n    console.log(this.orderService.order);\n\n\n\n    // !!!!!!!!!!!!!!!!!!!FOR CART!!!!!!!!!!!!!!!!!!!!!!!//\n    //set interface with selected menuitem and addons\n    this.cartItem = {\n      name : this.item.name,\n      additionals : this.cartAdditionals,\n      prices: this.cartPrices,\n      total: this.total,\n    };\n\n    //push interface object into API array\n    this.orderService.addToCart(this.cartItem);\n    this.orderService.itemPrices.push(this.total);\n    console.log(this.orderService.cart);\n  }\n\n  countAndCreate(qty,id,price){\n\n    for(var i = 0; i < qty; i++){\n      this.create(id,price);\n    }\n  }\n\n  setTotal(){\n\n  }\n\n  addQty(){\n    if(this.qty<5){\n      this.qty ++;\n    } else {\n      this.qtyMessage = \"Cannot Add More Than 5 Identical Items At Once.\";\n    }\n\n  }\n\n  removeQty(){\n    if(this.qty>1){\n      this.qty --;\n    } else {\n      this.qtyMessage = \"\";\n    }\n\n  }\n\n}\n\n\n\nexport interface Item{\n  name: any,\n  id: any,\n  price: any\n}\n\nexport interface ConfigAPI{\n  item_id: any,\n  additionals: any,\n}\n\nexport interface ConfigCART {\n  name: string,\n  additionals: any,\n  prices: any,\n  total: number,\n}\n"],"sourceRoot":"/source/"}